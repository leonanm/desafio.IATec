<template>
  <require from="./buscar.css"></require>
  <header>
    <h1>Desafio IATec</h1>
  </header>

  <div if.bind="error && error.length" class="alert alert-danger" role="alert">
    ${error}
  </div>
  <div if.bind="saveSuccessful" class="alert alert-success" role="alert">
    Status da Compra Alterado!
  </div>

  <form>
    <div class="txtStyle">
      <input type="text" class="form-control" id="floatingInputGroup1" placeholder="Buscar o produto pelo ID..."
        value.bind="idVenda">
      <imput />
      <button type="button" class="btn btn-outline-primary btn1" click.delegate="searchVenda()">
        Buscar
      </button>
      <button type="button" class="btn btn-outline-success btn2" click.delegate="novaCompra()">
        Nova Compra
      </button>
    </div>

    <div if.bind="venda" class="container text-center mb-3 gridStyle">
      <div class="row">
        <div class="col col-lg-4" style="margin-bottom: 10px;">
          <div class="card">
            <div class="card-body">
              ${venda.idVenda}
            </div>
            <select class="form-select" aria-label="Alterar Status" value.bind="status"
              change.delegate="alterarStatus()">
              <option selected>${pegarNomestatus()}</option>
              <option value="1">Pagamento Aprovado</option>
              <option value="2">Enviado</option>
              <option value="3">Entregue</option>
              <option value="4">Cancelado</option>
            </select>
            
            <ul>
              <li repeat.for="item of venda.itens">${item.descricao}</li>
            </ul>
            
          </div>
        </div>
      </div>
    </div>

  </form>
</template>
